<!DOCTYPE html>
<html>
	<head>
		<title>Registration</title>
	</head>
	<body>
		<header>
			<% if (registration.success) { %>

			<h1><%= registration.success %></h1>

			<% }%>
		</header>
		<% if (!registration.success) { %>
		<form class="" action="/api/users" method="post">
			<h1 id="reg">Register</h1>
			<p>Please fill out this form to create an account.</p>
			<hr />
			<br />
			<label for="First name"><b>First Name:</b></label>
			<input
				type="text"
				placeholder="First Name"
				id="fName"
				class="field"
				name="firstName"
				value="<%= registration.firstName %>"
				required
			/>
			<br />
			<br />
			<label for="Last Name"><b>Last Name:</b></label>
			<input
				type="text"
				placeholder="Last Name"
				id="lName"
				class="field"
				name="lastName"
				value="<%= registration.lastName %>"
				required
			/>
			<br />
			<br />
			<label for="email"><b>Email:</b></label>
			<input
				type="text"
				placeholder="Email"
				id="email"
				class="field"
				name="email"
				value="<%= registration.email %>"
				required
			/>
			<br />
			<br />
			<label for="password"><b>Password:</b></label>
			<input
				type="password"
				placeholder="Password"
				id="password"
				class="field"
				name="password"
				value="<%= registration.password %>"
				required
			/>
			<br />
			<br />
			<label for="psw confirm"><b>Confirm Password:</b></label>
			<input
				type="password"
				placeholder="Confirm Password"
				id="confirm"
				class="field"
				name="confirmPassword"
				value="<%= registration.confirmPassword %>"
				required
			/>
			<br />
			<br />
			<button type="submit">Submit</button>
		</form>
		<% }%>
		<br />
		<p id="put"></p>
		<!-- 
        <script>
            function Submit() {

                const https = require('https')
                const data = JSON.stringify({
                    firstName: document.getElementById('fName'),
                    lastName: document.getElementById('lName'),
                    email: document.getElementById('email'),
                    password: document.getElementById('password')
                })
                const options = {
                    hostname: 'localhost',
                    port: 3000,
                    path:'/api/users',
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Content-Length': data.length
                        
                    }
                }
                const req = https.request(options, res => {
                    console.log(`statusCode: ${res.statusCode}`)
                    
                    res.on('data', d => {
                        process.stdout.write(d)
                    })
                })
                req.on('error', error => {
                    console.log(error)
                })
                
                req.write(data)
                req.end()
            }
                
                </script> -->
	</body>
</html>
